@{
    ViewBag.Title = "TimVe";
    Layout = "~/Views/Shared/_LayoutNguoiDung.cshtml";
}
<div class="tab-content" id="myTabContent">
    <!-- Hero Section Start  -->
    <section class="heroSection fade show active" id="heroSection" role="tabpanel" aria-labelledby="heroSection-tab">
        <div class="content active">
            <div class="bgImg">
                <div class="container pt-5">
                    <div class="card p-1 mt-5" style="width: 32rem">
                        <div class="img d-flex">
                            <img src="~/Content/Images/—Pngtree—vietnam flag transparent background in_6979301.png" alt="Train Icon" class="img-fluid" style="width: 200px; height: auto">
                            <p class="fw-bold" style="color: var(--irctc-primary-color); font-size: 1.6em">
                                Đặt vé
                            </p>
                            <img src="~/Content/Images/cHJpdmF0ZS9zdGF0aWMvaW1hZ2VzL3dlYnNpdGUvMjAyMi0wNS9mbDE0NDMxMjI4ODI2LWltYWdlLWpvYjg0Ni0wMS5wbmc-removebg-preview.png" alt="Train Icon" class="img-fluid" style="width: 200px; height: auto">
                        </div>
                        <div class="card-body">
                            <!-- Đặt form bao bọc toàn bộ để có thể sử dụng FormCollection -->
                            @using (Html.BeginForm("ChonVe", "Ve", FormMethod.Post, new { @class = "row g-3", id = "trainSearchBtw1" }))
                            {
                                <div class="col-md-5 col-10 dropBox">
                                    <label for="from" class="form-label">Từ</label>
                                    <input type="text" class="form-control search" name="from" id="from" required="">
                                    <ul class="showList">
                                    </ul>
                                </div>
                                <div class="col-md-2 col-2 align-self-end">
                                    <div class="btn" id="interchangeBtn">
                                        <img src="~/Content/Icons/arrows.png" alt="Interchange" class="img-fluid">
                                    </div>
                                </div>
                                <div class="col-md-5 col-12 dropBox">
                                    <label for="to" class="form-label">Đến</label>
                                    <input type="text" class="form-control search" name="to" id="to" required="">
                                    <ul class="showList">
                                    </ul>
                                </div>
                                <div class="col-6">
                                    <label for="date" class="form-label">Ngày đi</label>
                                    <input type="date" class="form-control" name="date" id="date" required="">
                                </div>
                                <div class="col-6">
                                    <label for="returnDate" class="form-label">Ngày về</label>
                                    <input type="date" class="form-control" name="returnDate" id="returnDate" disabled>
                                </div>
                                <div class="col-12">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="roundTrip" id="roundTripCheck">
                                        <label class="form-check-label" for="roundTripCheck">
                                            Khứ hồi
                                        </label>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <button type="submit" class="btn submitBtn px-4 fw-bold">
                                        Tìm
                                    </button>
                                </div>
                            }

                            <!-- Kết thúc form -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>

<script>
    document.getElementById("roundTripCheck").addEventListener("change", function() {
        document.getElementById("returnDate").disabled = !this.checked;
    });
    // Đợi khi trang web được tải xong
    document.addEventListener('DOMContentLoaded', function () {
        localStorage.removeItem('TimVe');

        // Lấy phần tử button đổi chỗ
        var interchangeBtn = document.getElementById('interchangeBtn');

        // Lắng nghe sự kiện click trên nút đổi chỗ
        interchangeBtn.addEventListener('click', function () {
            // Lấy giá trị của ô input "Từ" và "Đến"
            var fromValue = document.getElementById('from').value;
            var toValue = document.getElementById('to').value;

            // Đổi chỗ giá trị giữa ô input "Từ" và "Đến"
            document.getElementById('from').value = toValue;
            document.getElementById('to').value = fromValue;
        });
    });
    document.addEventListener('DOMContentLoaded', function () {
        var dateInput = document.getElementById('date');
        var returnDateInput = document.getElementById('returnDate');

        // Khi người dùng chọn ngày đi
        dateInput.addEventListener('change', function () {
            var selectedDate = dateInput.value; // Lấy ngày đã chọn từ "Ngày đi"

            // Đặt giá trị min cho "Ngày về" bằng giá trị của "Ngày đi"
            returnDateInput.setAttribute('min', selectedDate);

            // Bật trường "Ngày về" khi "Ngày đi" có giá trị
            //returnDateInput.disabled = false;
        });
    });

    

    
</script>
